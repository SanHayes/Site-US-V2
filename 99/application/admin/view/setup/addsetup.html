{include file="head" /}

{include file="menu" /}


<section id="main-content">
    <section class="wrapper">
              <div class="col-lg-8">
				<section class="panel">
                          <header class="panel-heading">
                             <h1 style="text-align: center;">添加配置</h1> 
                          </header>
                          <div class="panel-body">
                              <form class="form-horizontal" role="form" id="formid" action="" method="post">
                                  {if isset($id)}
                                  <input type="hidden" value="{$id}" name="id">
                                  {/if}
                                  <div class="form-group">
                                      <label for="inputEmail1" class="col-lg-2 control-label">配置标识</label>
                                      <div class="controls">
                                          <input type="text" class="form-control"  name="name" value="{$name?$name:''}">
                                          <div class="alert alert-block alert-info" style="margin:10px 0 0 0 ">
                                            <strong>提示：</strong> 用于函数调用，只能使用英文且不能重复
                                            </div>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <label for="inputPassword1" class="col-lg-2 control-label">配置标题</label>
                                      <div class="controls">
                                          <input type="text" class="form-control"  name="title" value="{$title?$title:''}">
                                          <div class="alert alert-block alert-info" style="margin:10px 0 0 0 ">
                                            <strong>提示：</strong> 用于后台显示的配置标题
                                            </div>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <label for="inputEmail1" class="col-lg-2 control-label">排序</label>
                                      <div class="controls">
                                          <input type="text" class="form-control" name="sort" value="{$sort?$sort:''}" >
                                          <div class="alert alert-block alert-info" style="margin:10px 0 0 0 ">
                                            <strong>提示：</strong> 用于分组显示的顺序
                                            </div>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <label for="inputPassword1" class="col-lg-2 control-label">配置类型</label>
                                      <div class="controls">
                                          <select name="type" id="" class="selectpicker show-tick form-control">
                                            <option {if isset($type) && $type == 1} selected="selected" {/if} value="1">字符</option>
                                            <option {if isset($type) && $type == 2} selected="selected" {/if} value="2">文本</option>
                                            <option {if isset($type) && $type == 3} selected="selected" {/if} value="3">图片</option>
                                            <option {if isset($type) && $type == 4} selected="selected" {/if} value="4">上传</option>
                                            <option {if isset($type) && $type == 5} selected="selected" {/if} value="5">单选</option>
                                          </select>
                                          <div class="alert alert-block alert-info" style="margin:10px 0 0 0 ">
                                            <strong>提示：</strong> 系统会根据不同类型解析配置值
                                            </div>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <label for="inputPassword1" class="col-lg-2 control-label">配置分组</label>
                                      <div class="controls">
                                          <select name="group" id="" class="selectpicker show-tick form-control">
                                            <option {if isset($group) && $group == 2} selected="selected" {/if} value="2">参数配置</option>
                                            <option {if isset($group) && $group == 1} selected="selected" {/if} value="1">基本配置</option>
                                          </select>
                                          <div class="alert alert-block alert-info" style="margin:10px 0 0 0 ">
                                            <strong>提示：</strong> 配置分组 用于批量设置 不分组则不会显示在系统设置中
                                            </div>
                                      </div>
                                  </div>

                                  <div class="form-group">
                                      <label for="inputEmail1" class="col-lg-2 control-label">说明</label>
                                      <div class="controls">
                                          <input type="text" class="form-control" name="extra" value="{$extra?$extra:''}" >
                                          <div class="alert alert-block alert-info" style="margin:10px 0 0 0 ">
                                            <strong>提示：</strong> 用于对配置的说明
                                            </div>
                                      </div>
                                  </div>

                                  
                                  <div class="form-group">
                                      <div class="col-lg-offset-2 controls">
                                          <button type="submit" class="btn btn-danger" onclick="return addsetup(this.form);">添加</button>
                                      </div>
                                  </div>
                              </form>
                          </div>
                      </section>
              </div>
		

  	</section>
</section>
{include file="foot" /}
<script>

function addsetup(form) {
    var name = form.name.value;
    var title = form.title.value;

    if(!name){
        layer.msg('请输入配置标识');
        return false;
    }
    if(!title){
        layer.msg('请输入配置标题'); 
        return false;
    }
    var formurl = "{:Url('addsetup')}";
    var data = $('#formid').serialize();
    var gourl = "{:Url('deploy')}";

    WPpost(formurl,data,gourl);
    
    return false;
}
</script>